(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{38:function(t,e,s){t.exports=s.p+"assets/img/1.29661625.png"},39:function(t,e,s){t.exports=s.p+"assets/img/3.3a92e286.png"},40:function(t,e,s){t.exports=s.p+"assets/img/2.d375b4db.jpeg"},41:function(t,e,s){t.exports=s.p+"assets/img/4.6a7b1f32.png"},79:function(t,e,s){"use strict";s.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"git"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[this._v("#")]),this._v(" Git")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[this._v("#")]),this._v(" 基本概念")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Workspace：工作区")]),this._v(" "),e("li",[this._v("Index / Stage：暂存区")]),this._v(" "),e("li",[this._v("Repository：仓库区（或本地仓库）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"版本回退"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#版本回退"}},[this._v("#")]),this._v(" 版本回退")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("在 Git 中，用 "),r("code",[t._v("HEAD")]),t._v(" 表示当前版本，上一个版本就是 "),r("code",[t._v("HEAD^")]),t._v("，往上 n 个版本写成 "),r("code",[t._v("HEAD~n")]),t._v("。"),r("br"),t._v(" "),r("img",{attrs:{src:s(38),alt:"image"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"一、reset："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、reset："}},[this._v("#")]),this._v(" 一、reset：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("原理")]),this._v("：修改 HEAD 的位置，即将 HEAD 指向的位置改变为之前存在的某个版本，reset 后目标版本之后的版本不见了，基于本地仓库的文件去覆盖暂存区或工作区的内容")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("适用场景")]),this._v("： 如果想恢复到之前某个提交的版本，且那个版本之后提交的版本我们都不要了，就可以用这种方法。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如下图所示："),e("br"),this._v(" "),e("img",{attrs:{src:s(39),alt:"image"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("--mixed（默认）"),s("br"),t._v("\n默认的时候，只有暂存区变化")])]),t._v(" "),s("li",[s("p",[t._v("--hard 参数"),s("br"),t._v("\n如果使用--hard 参数，那么工作区也会变化")])]),t._v(" "),s("li",[s("p",[t._v("--soft"),s("br"),t._v("\n如果使用--soft 参数，那么暂存区和工作区都不会变化")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(40),alt:"image"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退到指定版本")]),t._v("\ngit reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("commit_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n    *强制提交\n    *此时如果用`git push`会报错，因为我们本地库HEAD指向的版本比远程库的要旧\n*/")]),t._v("\ngit push "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("回退到上一个版本:"),e("br"),this._v(" "),e("code",[this._v("git reset --hard HEAD^")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"二、revert："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、revert："}},[this._v("#")]),this._v(" 二、revert：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("原理")]),this._v("： git revert 用于“反做”某一个版本，以达到撤销该版本的修改的目的。比如，我们 commit 了三个版本（版本一、版本二、 版本三），突然发现版本二不行（如：有 bug），想要撤销版本二，但又不想影响撤销版本三的提交，就可以用 git revert 命令来反做版本二，生成新的版本四，这个版本四里会保留版本三的东西，但撤销了版本二的东西。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("适用场景")]),this._v("： 想撤销之前的某一版本，但是又想保留该目标版本后面的版本，记录下这整个版本变动的流程。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如下图所示："),e("br"),this._v(" "),e("img",{attrs:{src:s(41),alt:"image"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 反做")]),t._v("\ngit revert "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交")]),t._v("\ngit commit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("msg"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交")]),t._v("\ngit push\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"分支管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[this._v("#")]),this._v(" 分支管理")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("通常，合并分支时，如果可能，Git 会用 Fast forward 模式，但这种模式下，删除分支后，会丢掉分支信息。"),e("br"),this._v("\n如果要强制禁用 Fast forward 模式，Git 就会在 merge 时生成一个新的 commit，这样，从分支历史上就可以看出分支信息。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("切换分支"),e("br"),this._v(" "),e("code",[this._v("git switch <branch>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("创建并切换分支"),e("br"),this._v(" "),e("code",[this._v("git switch -c <branch>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("合并分支"),e("br"),this._v(" "),e("code",[this._v('git merge --no-ff -m "merge with no-ff" <branch>')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"远程仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库"}},[this._v("#")]),this._v(" 远程仓库")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("查看远程库的信息"),e("br"),this._v(" "),e("code",[this._v("git remote")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("查看远程库详细的信息"),e("br"),this._v(" "),e("code",[this._v("git remote -v")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("把该分支上的所有本地提交推送到远程库对应的远程分支上"),e("br"),this._v(" "),e("code",[this._v("git push origin <本地分支>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("建立本地分支和远程分支的关联"),e("br"),this._v(" "),e("code",[this._v("git branch --set-upstream <branch> origin/<branch>")]),e("br"),this._v("\n删除远程分支"),e("br"),this._v(" "),e("code",[this._v("git push origin --delete <branchName>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"对比"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对比"}},[this._v("#")]),this._v(" 对比")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("git diffent")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[this._v("#")]),this._v(" 常用命令")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git-stash"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-stash"}},[this._v("#")]),this._v(" git stash")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("把当前工作现场“储藏”起来"),e("br"),this._v(" "),e("code",[this._v("git stash")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("stash 列表"),e("br"),this._v(" "),e("code",[this._v("git stash list")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("git stash apply")]),t._v(": 恢复后，stash 内容不删除")]),t._v(" "),s("li",[s("code",[t._v("git stash pop")]),t._v(": 恢复的同时把 stash 内容也删了")]),t._v(" "),s("li",[s("code",[t._v("git stash apply stash@{0}")]),t._v(": 恢复指定的 stash")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git-cherry-pick"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-cherry-pick"}},[this._v("#")]),this._v(" git cherry-pick")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("复制一个特定的提交到当前分支"),e("br"),this._v(" "),e("code",[this._v("git cherry-pick <commit_id>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"git-reflog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-reflog"}},[this._v("#")]),this._v(" git reflog")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("记录每一次命令,可以回到未来"),e("br"),this._v(" "),e("code",[this._v("git reflog")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("git 怎么查看分支从哪个分支拉出来的？"),e("br"),this._v("\nA: git 各分支之间没有父子关系，只有基于 commit 的引用，即分支只是基于 commit 的引用。"),e("br"),this._v("\n利用 "),e("code",[this._v("git reflog --date=local | grep <branchname>")]),this._v(" 可以查看分支间的关系")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[this._v("#")]),this._v(" 参考资料")])}],i=s(0),a=Object(i.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("搞懂了这三个区域，才能更好理解这些 Git 命令是在干什么。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),s("p",[t._v("恢复:")]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),s("p",[t._v("工作中遇到的问题：")]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/32412959",target:"_blank",rel:"noopener noreferrer"}},[t._v("说说 Git reset 与 revert 的故事"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://mp.weixin.qq.com/s?src=11&timestamp=1627376793&ver=3216&signature=ZuuFdStq4Wy0SK*ite4gqayr3mk6qeTadanKDyzdh2zEJZTjzBclXHjOEMtKrJtEt9DwtNOvBkQNiL6pM9*kFf-zv1flHxkwMN*0owKFnvHuWfVUodJywB319knJYeaZ&new=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 恢复版本 reset、revert"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://cloud.tencent.com/developer/chapter/12769",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 教程"),s("OutboundLink")],1)])])}),r,!1,null,null,null);e.default=a.exports}}]);